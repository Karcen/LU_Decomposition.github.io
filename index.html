<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LUåˆ†è§£äº¤äº’å¼å¯è§†åŒ–è®²è§£</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;600;700&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #f8f9fc;
  --surface: #ffffff;
  --surface2: #f0f2f7;
  --accent: #d97706;
  --accent2: #2563eb;
  --accent3: #059669;
  --accent4: #dc2626;
  --accent5: #7c3aed;
  --text: #1e293b;
  --text-dim: #64748b;
  --border: #e2e8f0;
  --lower-color: #d97706;
  --upper-color: #2563eb;
  --result-color: #059669;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Noto Sans SC', sans-serif;
  font-weight: 400;
  line-height: 1.8;
  overflow-x: hidden;
}

.noise-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.015'/%3E%3C/svg%3E");
  pointer-events: none; z-index: 9999;
}

.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 20px;
}

/* Hero */
.hero {
  text-align: center;
  padding: 80px 20px 60px;
  position: relative;
}

.hero::before {
  content: '';
  position: absolute;
  top: -100px; left: 50%; transform: translateX(-50%);
  width: 600px; height: 600px;
  background: radial-gradient(circle, rgba(37,99,235,0.06) 0%, transparent 70%);
  pointer-events: none;
}

.hero h1 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 900;
  background: linear-gradient(135deg, var(--accent), var(--accent2), var(--accent3));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 16px;
  letter-spacing: -1px;
}

.hero .subtitle {
  font-size: 1.1rem;
  color: var(--text-dim);
  max-width: 600px;
  margin: 0 auto;
}

/* Sections */
.section {
  margin: 60px 0;
  padding: 40px;
  background: var(--surface);
  border: 1px solid var(--border); box-shadow: 0 2px 12px rgba(0,0,0,0.04);
  border-radius: 16px;
  position: relative;
  overflow: hidden;
  animation: fadeUp 0.6s ease-out both;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

.section::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--accent), var(--accent2), var(--accent3));
}

.section-number {
  display: inline-block;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--accent);
  background: rgba(217,119,6,0.08);
  border: 1px solid rgba(217,119,6,0.3);
  padding: 4px 12px;
  border-radius: 20px;
  margin-bottom: 16px;
  letter-spacing: 2px;
  text-transform: uppercase;
}

.section h2 {
  font-size: 1.6rem;
  font-weight: 700;
  margin-bottom: 20px;
  color: #0f172a;
}

.section p {
  margin-bottom: 16px;
  color: var(--text-dim);
  font-size: 0.95rem;
}

.highlight {
  color: var(--accent);
  font-weight: 600;
}

.highlight-blue {
  color: var(--accent2);
  font-weight: 600;
}

.highlight-green {
  color: var(--accent3);
  font-weight: 600;
}

/* Matrix Display */
.matrix-display {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  margin: 30px 0;
  flex-wrap: wrap;
  font-family: 'JetBrains Mono', monospace;
}

.matrix {
  display: inline-flex;
  flex-direction: column;
  position: relative;
  padding: 8px 16px;
}

.matrix::before, .matrix::after {
  content: '';
  position: absolute;
  top: 0; bottom: 0;
  width: 3px;
  border-radius: 2px;
}

.matrix::before { left: 0; }
.matrix::after { right: 0; }

.matrix.lower::before, .matrix.lower::after {
  background: var(--lower-color);
}

.matrix.upper::before, .matrix.upper::after {
  background: var(--upper-color);
}

.matrix.result::before, .matrix.result::after {
  background: var(--result-color);
}

.matrix.plain::before, .matrix.plain::after {
  background: var(--text-dim);
}

.matrix-row {
  display: flex;
  gap: 12px;
}

.matrix-cell {
  width: 48px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.95rem;
  font-weight: 600;
  border-radius: 6px;
  transition: all 0.3s;
}

.matrix-cell.zero {
  color: #cbd5e1;
}

.matrix-cell.diag {
  background: rgba(0,0,0,0.03);
}

.matrix-cell.highlight-cell {
  background: rgba(217,119,6,0.12);
  color: var(--accent);
}

.op-symbol {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--text-dim);
  padding: 0 4px;
}

.matrix-label {
  text-align: center;
  font-size: 0.8rem;
  font-weight: 600;
  margin-top: 8px;
  letter-spacing: 1px;
  text-transform: uppercase;
}

.matrix-label.lower-label { color: var(--lower-color); }
.matrix-label.upper-label { color: var(--upper-color); }
.matrix-label.result-label { color: var(--result-color); }

/* Interactive Controls */
.controls {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin: 20px 0;
  align-items: center;
}

.control-group {
  display: flex;
  align-items: center;
  gap: 8px;
}

.control-group label {
  font-size: 0.85rem;
  color: var(--text-dim);
  font-weight: 500;
}

input[type="number"], input[type="range"] {
  font-family: 'JetBrains Mono', monospace;
  background: var(--surface2);
  border: 1px solid var(--border); box-shadow: 0 2px 12px rgba(0,0,0,0.04);
  color: var(--text);
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 0.9rem;
  width: 70px;
  text-align: center;
  transition: border-color 0.2s;
}

input[type="number"]:focus {
  outline: none;
  border-color: var(--accent);
}

input[type="range"] {
  width: 150px;
  padding: 0;
  -webkit-appearance: none;
  height: 6px;
  border-radius: 3px;
  background: var(--surface2);
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px; height: 18px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
}

.btn {
  font-family: 'Noto Sans SC', sans-serif;
  background: linear-gradient(135deg, var(--accent), #d97706);
  color: #fff;
  border: none;
  padding: 10px 24px;
  border-radius: 8px;
  font-size: 0.85rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
  letter-spacing: 0.5px;
}

.btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 15px rgba(217,119,6,0.3);
}

.btn.secondary {
  background: var(--surface2);
  color: var(--text);
  border: 1px solid var(--border); box-shadow: 0 2px 12px rgba(0,0,0,0.04);
}

.btn.secondary:hover {
  border-color: var(--accent);
  box-shadow: none;
}

/* Canvas & SVG */
canvas, svg.viz {
  display: block;
  margin: 20px auto;
  border-radius: 12px;
}

/* Info boxes */
.info-box {
  background: var(--surface2);
  border-left: 3px solid var(--accent);
  padding: 16px 20px;
  border-radius: 0 8px 8px 0;
  margin: 20px 0;
  font-size: 0.9rem;
}

.info-box.blue { border-left-color: var(--accent2); }
.info-box.green { border-left-color: var(--accent3); }
.info-box.red { border-left-color: var(--accent4); }

.info-box strong {
  display: block;
  margin-bottom: 4px;
  color: var(--text);
}

/* Steps / Process */
.step-flow {
  display: flex;
  gap: 16px;
  margin: 24px 0;
  flex-wrap: wrap;
}

.step-card {
  flex: 1;
  min-width: 200px;
  background: var(--surface2);
  border: 1px solid var(--border); box-shadow: 0 2px 12px rgba(0,0,0,0.04);
  border-radius: 12px;
  padding: 20px;
  text-align: center;
  transition: all 0.3s;
  cursor: default;
}

.step-card:hover {
  border-color: var(--accent);
  transform: translateY(-2px);
}

.step-card .step-num {
  display: inline-block;
  width: 32px; height: 32px;
  background: var(--accent);
  color: #fff;
  border-radius: 50%;
  line-height: 32px;
  font-weight: 700;
  font-size: 0.85rem;
  margin-bottom: 10px;
}

.step-card h4 {
  font-size: 0.95rem;
  margin-bottom: 8px;
  color: var(--text);
}

.step-card p {
  font-size: 0.82rem;
  color: var(--text-dim);
  margin: 0;
}

/* Tabs */
.tabs {
  display: flex;
  gap: 4px;
  margin-bottom: 24px;
  background: var(--surface2);
  border-radius: 10px;
  padding: 4px;
  overflow-x: auto;
}

.tab {
  padding: 10px 20px;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text-dim);
  background: transparent;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
  font-family: 'Noto Sans SC', sans-serif;
}

.tab.active {
  background: var(--accent);
  color: #fff;
}

.tab:hover:not(.active) {
  color: var(--text);
  background: rgba(0,0,0,0.03);
}

.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
  animation: fadeUp 0.3s ease-out;
}

/* Gaussian animation area */
.gauss-step {
  padding: 16px;
  margin: 12px 0;
  background: var(--surface2);
  border-radius: 10px;
  border: 1px solid var(--border); box-shadow: 0 2px 12px rgba(0,0,0,0.04);
  transition: all 0.3s;
}

.gauss-step.active-step {
  border-color: var(--accent);
  box-shadow: 0 0 20px rgba(217,119,6,0.08);
}

.gauss-step h4 {
  font-size: 0.9rem;
  color: var(--accent);
  margin-bottom: 8px;
}

/* 2D visualization */
.viz-container {
  position: relative;
  background: var(--surface2);
  border-radius: 12px;
  overflow: hidden;
  margin: 20px 0;
}

/* Comparison table */
.compare-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  font-size: 0.88rem;
}

.compare-table th {
  background: var(--surface2);
  padding: 12px 16px;
  text-align: left;
  font-weight: 600;
  color: var(--accent);
  border-bottom: 2px solid var(--border);
}

.compare-table td {
  padding: 12px 16px;
  border-bottom: 1px solid var(--border);
  color: var(--text-dim);
}

.compare-table tr:hover td {
  background: rgba(0,0,0,0.02);
}

.tag {
  display: inline-block;
  padding: 2px 10px;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 700;
}

.tag.yes { background: rgba(5,150,105,0.12); color: var(--accent3); }
.tag.no { background: rgba(239,68,68,0.15); color: var(--accent4); }

/* Footer nav */
.nav-dots {
  display: flex;
  justify-content: center;
  gap: 8px;
  padding: 40px 0;
}

.nav-dot {
  width: 10px; height: 10px;
  border-radius: 50%;
  background: var(--border);
  cursor: pointer;
  transition: all 0.2s;
}

.nav-dot.active {
  background: var(--accent);
  width: 30px;
  border-radius: 5px;
}

/* Responsive */
@media (max-width: 768px) {
  .section { padding: 24px 16px; }
  .matrix-display { gap: 8px; }
  .matrix-cell { width: 36px; height: 32px; font-size: 0.8rem; }
  .matrix-row { gap: 6px; }
  .step-flow { flex-direction: column; }
}

.equation {
  font-family: 'JetBrains Mono', monospace;
  text-align: center;
  font-size: 1.2rem;
  padding: 20px;
  background: var(--surface2);
  border-radius: 10px;
  margin: 16px 0;
  color: var(--text);
  letter-spacing: 1px;
}

.equation .L { color: var(--lower-color); }
.equation .U { color: var(--upper-color); }
.equation .A { color: var(--result-color); }

.slider-val {
  font-family: 'JetBrains Mono', monospace;
  color: var(--accent);
  font-weight: 700;
  min-width: 30px;
  text-align: center;
}

/* Animated arrow between steps */
.arrow-right {
  display: flex;
  align-items: center;
  color: var(--text-dim);
  font-size: 1.5rem;
}

.code-block {
  font-family: 'JetBrains Mono', monospace;
  background: #edf0f7;
  border: 1px solid var(--border); box-shadow: 0 2px 12px rgba(0,0,0,0.04);
  border-radius: 8px;
  padding: 16px;
  font-size: 0.82rem;
  overflow-x: auto;
  margin: 12px 0;
  line-height: 1.6;
  color: var(--text-dim);
}

.two-col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin: 16px 0;
}

@media (max-width: 768px) {
  .two-col { grid-template-columns: 1fr; }
}
</style>
</head>
<body>
<div class="noise-overlay"></div>

<div class="container">

<!-- HERO -->
<div class="hero">
  <h1>LU åˆ†è§£</h1>
  <p class="subtitle">ä¸ºä»€ä¹ˆå°†çŸ©é˜µåˆ†è§£ä¸ºä¸‹ä¸‰è§’ Ã— ä¸Šä¸‰è§’ï¼Ÿäº¤äº’å¼å¯è§†åŒ–å¸¦ä½ ä»ç›´è§‰åˆ°æœ¬è´¨ç†è§£æ¯ä¸€æ­¥ã€‚</p>
</div>

<!-- ========== SECTION 1: What is LU ========== -->
<div class="section" id="sec1">
  <span class="section-number">ç¬¬ä¸€ç« </span>
  <h2>ä»€ä¹ˆæ˜¯ LU åˆ†è§£ï¼Ÿ</h2>
  <p>LU åˆ†è§£æ˜¯å°†ä¸€ä¸ªæ–¹é˜µ <span class="highlight-green">A</span> åˆ†è§£ä¸ºä¸€ä¸ª<span class="highlight">ä¸‹ä¸‰è§’çŸ©é˜µ L</span>ï¼ˆLowerï¼‰å’Œä¸€ä¸ª<span class="highlight-blue">ä¸Šä¸‰è§’çŸ©é˜µ U</span>ï¼ˆUpperï¼‰çš„ä¹˜ç§¯ï¼š</p>

  <div class="equation">
    <span class="A">A</span> = <span class="L">L</span> Â· <span class="U">U</span>
  </div>

  <p>æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ 3Ã—3 ä¾‹å­ï¼š</p>

  <div class="matrix-display" id="lu-example-3x3">
    <div>
      <div class="matrix result">
        <div class="matrix-row"><div class="matrix-cell">2</div><div class="matrix-cell">1</div><div class="matrix-cell">1</div></div>
        <div class="matrix-row"><div class="matrix-cell">4</div><div class="matrix-cell">3</div><div class="matrix-cell">3</div></div>
        <div class="matrix-row"><div class="matrix-cell">8</div><div class="matrix-cell">7</div><div class="matrix-cell">9</div></div>
      </div>
      <div class="matrix-label result-label">A</div>
    </div>
    <div class="op-symbol">=</div>
    <div>
      <div class="matrix lower">
        <div class="matrix-row"><div class="matrix-cell diag">1</div><div class="matrix-cell zero">0</div><div class="matrix-cell zero">0</div></div>
        <div class="matrix-row"><div class="matrix-cell highlight-cell">2</div><div class="matrix-cell diag">1</div><div class="matrix-cell zero">0</div></div>
        <div class="matrix-row"><div class="matrix-cell highlight-cell">4</div><div class="matrix-cell highlight-cell">3</div><div class="matrix-cell diag">1</div></div>
      </div>
      <div class="matrix-label lower-label">Lï¼ˆä¸‹ä¸‰è§’ï¼‰</div>
    </div>
    <div class="op-symbol">Ã—</div>
    <div>
      <div class="matrix upper">
        <div class="matrix-row"><div class="matrix-cell highlight-cell">2</div><div class="matrix-cell highlight-cell">1</div><div class="matrix-cell highlight-cell">1</div></div>
        <div class="matrix-row"><div class="matrix-cell zero">0</div><div class="matrix-cell highlight-cell">1</div><div class="matrix-cell highlight-cell">1</div></div>
        <div class="matrix-row"><div class="matrix-cell zero">0</div><div class="matrix-cell zero">0</div><div class="matrix-cell highlight-cell">2</div></div>
      </div>
      <div class="matrix-label upper-label">Uï¼ˆä¸Šä¸‰è§’ï¼‰</div>
    </div>
  </div>

  <div class="info-box">
    <strong>ğŸ”‘ å…³é”®ç‰¹å¾</strong>
    <span class="highlight">Lï¼ˆä¸‹ä¸‰è§’ï¼‰</span>ï¼šå¯¹è§’çº¿å…¨ä¸º 1ï¼Œä¸Šæ–¹å…¨ä¸º 0ï¼Œéé›¶å…ƒç´ åœ¨å·¦ä¸‹æ–¹<br>
    <span class="highlight-blue">Uï¼ˆä¸Šä¸‰è§’ï¼‰</span>ï¼šéé›¶å…ƒç´ åœ¨å³ä¸Šæ–¹ï¼ˆåŒ…å«å¯¹è§’çº¿ï¼‰ï¼Œå·¦ä¸‹æ–¹å…¨ä¸º 0
  </div>
</div>

<!-- ========== SECTION 2: WHY L*U ========== -->
<div class="section" id="sec2">
  <span class="section-number">ç¬¬äºŒç« </span>
  <h2>ä¸ºä»€ä¹ˆæ˜¯ L Ã— Uï¼Œè€Œä¸æ˜¯ U Ã— Lï¼Ÿ</h2>

  <p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆè—åœ¨<span class="highlight">é«˜æ–¯æ¶ˆå…ƒæ³•</span>ä¸­ã€‚LU åˆ†è§£çš„æœ¬è´¨å°±æ˜¯å¯¹é«˜æ–¯æ¶ˆå…ƒè¿‡ç¨‹çš„ã€Œè®°å½•ã€ã€‚</p>

  <div class="tabs">
    <button class="tab active" onclick="switchTab('gauss', 0)">é«˜æ–¯æ¶ˆå…ƒè¿‡ç¨‹</button>
    <button class="tab" onclick="switchTab('gauss', 1)">ä¸ºä»€ä¹ˆæ˜¯ LÃ—U</button>
    <button class="tab" onclick="switchTab('gauss', 2)">UÃ—L è¡Œä¸è¡Œï¼Ÿ</button>
  </div>

  <div class="tab-content active" id="gauss-tab-0">
    <p>é«˜æ–¯æ¶ˆå…ƒçš„ç›®æ ‡ï¼šå°†çŸ©é˜µ A é€šè¿‡<span class="highlight">è¡Œæ“ä½œ</span>å˜æˆä¸Šä¸‰è§’çŸ©é˜µ Uã€‚</p>

    <div id="gauss-demo">
      <div class="controls">
        <button class="btn" onclick="gaussStep(1)" id="gauss-btn-1">ç¬¬ä¸€æ­¥ï¼šæ¶ˆå»ç¬¬1åˆ—</button>
        <button class="btn secondary" onclick="gaussStep(2)" id="gauss-btn-2">ç¬¬äºŒæ­¥ï¼šæ¶ˆå»ç¬¬2åˆ—</button>
        <button class="btn secondary" onclick="gaussStep(0)" id="gauss-btn-0">é‡ç½®</button>
      </div>

      <div id="gauss-animation">
        <div class="gauss-step active-step" id="gauss-s0">
          <h4>åˆå§‹çŸ©é˜µ A</h4>
          <div class="matrix-display">
            <div class="matrix plain">
              <div class="matrix-row"><div class="matrix-cell">2</div><div class="matrix-cell">1</div><div class="matrix-cell">1</div></div>
              <div class="matrix-row"><div class="matrix-cell">4</div><div class="matrix-cell">3</div><div class="matrix-cell">3</div></div>
              <div class="matrix-row"><div class="matrix-cell">8</div><div class="matrix-cell">7</div><div class="matrix-cell">9</div></div>
            </div>
          </div>
        </div>
        <div class="gauss-step" id="gauss-s1" style="display:none">
          <h4>æ­¥éª¤1ï¼šRâ‚‚ = Râ‚‚ - 2Â·Râ‚ï¼ŒRâ‚ƒ = Râ‚ƒ - 4Â·Râ‚ â†’ æ¶ˆå»ç¬¬1åˆ—ä¸‹æ–¹</h4>
          <p style="font-size:0.85rem">ä¹˜æ•°ï¼š<span class="highlight">lâ‚‚â‚ = 4/2 = 2</span>ï¼Œ<span class="highlight">lâ‚ƒâ‚ = 8/2 = 4</span>ï¼ˆå­˜å…¥Lï¼‰</p>
          <div class="matrix-display">
            <div class="matrix plain">
              <div class="matrix-row"><div class="matrix-cell">2</div><div class="matrix-cell">1</div><div class="matrix-cell">1</div></div>
              <div class="matrix-row"><div class="matrix-cell" style="color:var(--accent3)">0</div><div class="matrix-cell">1</div><div class="matrix-cell">1</div></div>
              <div class="matrix-row"><div class="matrix-cell" style="color:var(--accent3)">0</div><div class="matrix-cell">3</div><div class="matrix-cell">5</div></div>
            </div>
          </div>
        </div>
        <div class="gauss-step" id="gauss-s2" style="display:none">
          <h4>æ­¥éª¤2ï¼šRâ‚ƒ = Râ‚ƒ - 3Â·Râ‚‚ â†’ æ¶ˆå»ç¬¬2åˆ—ä¸‹æ–¹</h4>
          <p style="font-size:0.85rem">ä¹˜æ•°ï¼š<span class="highlight">lâ‚ƒâ‚‚ = 3/1 = 3</span>ï¼ˆå­˜å…¥Lï¼‰</p>
          <div class="matrix-display">
            <div>
              <div class="matrix upper">
                <div class="matrix-row"><div class="matrix-cell">2</div><div class="matrix-cell">1</div><div class="matrix-cell">1</div></div>
                <div class="matrix-row"><div class="matrix-cell zero">0</div><div class="matrix-cell">1</div><div class="matrix-cell">1</div></div>
                <div class="matrix-row"><div class="matrix-cell zero">0</div><div class="matrix-cell zero">0</div><div class="matrix-cell">2</div></div>
              </div>
              <div class="matrix-label upper-label">è¿™å°±æ˜¯ Uï¼</div>
            </div>
          </div>
          <div class="info-box green" style="margin-top:16px">
            <strong>âœ¨ åŒæ—¶å¾—åˆ° L</strong>
            æ¶ˆå…ƒè¿‡ç¨‹ä¸­ç”¨åˆ°çš„ä¹˜æ•° lâ‚‚â‚=2, lâ‚ƒâ‚=4, lâ‚ƒâ‚‚=3 å¡«å…¥ä¸‹ä¸‰è§’å¯¹åº”ä½ç½®ï¼Œå¯¹è§’çº¿å¡«1ï¼Œå°±å¾—åˆ°äº† Lï¼
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-content" id="gauss-tab-1">
    <p>é«˜æ–¯æ¶ˆå…ƒçš„æ¯ä¸€æ­¥è¡Œæ“ä½œï¼Œéƒ½å¯ä»¥ç”¨ä¸€ä¸ª<span class="highlight">ä¸‹ä¸‰è§’åˆç­‰çŸ©é˜µ</span>è¡¨ç¤ºï¼š</p>

    <div class="step-flow">
      <div class="step-card">
        <div class="step-num">1</div>
        <h4>è¡Œæ“ä½œ = å·¦ä¹˜åˆç­‰çŸ©é˜µ</h4>
        <p>Ráµ¢ -= mÂ·Râ±¼ ç­‰ä»·äºå·¦ä¹˜ä¸€ä¸ªä¸‹ä¸‰è§’çŸ©é˜µ Eâ‚–</p>
      </div>
      <div class="step-card">
        <div class="step-num">2</div>
        <h4>æ¶ˆå…ƒå®Œæˆ</h4>
        <p>Eâ‚‚Â·Eâ‚Â·A = U<br>å³ A = Eâ‚â»Â¹Â·Eâ‚‚â»Â¹Â·U</p>
      </div>
      <div class="step-card">
        <div class="step-num">3</div>
        <h4>ä¸‹ä¸‰è§’çš„é€†è¿˜æ˜¯ä¸‹ä¸‰è§’</h4>
        <p>L = Eâ‚â»Â¹Â·Eâ‚‚â»Â¹<br>ä¸‹ä¸‰è§’çŸ©é˜µçš„ä¹˜ç§¯ä»æ˜¯ä¸‹ä¸‰è§’ï¼</p>
      </div>
    </div>

    <div class="info-box">
      <strong>ğŸ’¡ æ ¸å¿ƒé€»è¾‘</strong>
      å› ä¸ºé«˜æ–¯æ¶ˆå…ƒæ˜¯<strong>ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³</strong>é€åˆ—æ¶ˆå»ä¸‹æ–¹å…ƒç´ çš„ï¼Œæ¯æ­¥æ“ä½œåªä¿®æ”¹å½“å‰è¡Œ<strong>ä¸‹æ–¹</strong>çš„è¡Œã€‚è¿™ç§ã€Œå‘ä¸‹ä¼ æ’­ã€çš„ç»“æ„å¤©ç„¶å¯¹åº”<span class="highlight">ä¸‹ä¸‰è§’çŸ©é˜µ</span>ã€‚æ¶ˆå…ƒçš„ç»“æœæ˜¯ä¸Šä¸‰è§’ Uï¼Œè®°å½•æ¶ˆå…ƒè¿‡ç¨‹çš„ä¹˜æ•°è‡ªç„¶ç»„æˆä¸‹ä¸‰è§’ Lã€‚æ‰€ä»¥ A = LÂ·U æ˜¯é«˜æ–¯æ¶ˆå…ƒçš„ç›´æ¥äº§ç‰©ï¼
    </div>
  </div>

  <div class="tab-content" id="gauss-tab-2">
    <h3 style="margin-bottom:16px;color:var(--text)">U Ã— L å¯ä»¥å—ï¼Ÿ</h3>

    <div class="two-col">
      <div class="info-box green">
        <strong>âœ… æ•°å­¦ä¸Šå¯ä»¥</strong>
        ä»»ä½•å¯é€†çŸ©é˜µåœ¨æŸäº›æ¡ä»¶ä¸‹ç¡®å®å¯ä»¥åˆ†è§£ä¸º A = U'Â·L'ï¼ˆä¸Šä¸‰è§’Ã—ä¸‹ä¸‰è§’ï¼‰ï¼Œè¿™å«åš<strong>åå‘LUåˆ†è§£</strong>æˆ–è€…é€šè¿‡è¡Œåˆ—ç½®æ¢å®ç°ã€‚
      </div>
      <div class="info-box red">
        <strong>âŒ ä½†ä¸è‡ªç„¶ã€ä¸å®ç”¨</strong>
        é«˜æ–¯æ¶ˆå…ƒè‡ªç„¶äº§ç”Ÿ LÃ—U é¡ºåºã€‚å¦‚æœå¼ºè¡Œåš UÃ—Lï¼Œå°±ç›¸å½“äºä»ä¸‹å¾€ä¸Šæ¶ˆå…ƒï¼Œè¿åç›´è§‰ï¼Œä¸”ä¸å¦‚ LÃ—U é«˜æ•ˆã€‚
      </div>
    </div>

    <table class="compare-table">
      <tr><th>å¯¹æ¯”é¡¹</th><th>A = L Ã— U</th><th>A = U' Ã— L'</th></tr>
      <tr><td>å¯¹åº”æ¶ˆå…ƒæ–¹å‘</td><td>ä»ä¸Šåˆ°ä¸‹ï¼ˆè‡ªç„¶é¡ºåºï¼‰</td><td>ä»ä¸‹åˆ°ä¸Šï¼ˆé€†å‘ï¼‰</td></tr>
      <tr><td>æ˜¯å¦è‡ªç„¶äº§ç‰©</td><td><span class="tag yes">æ˜¯</span></td><td><span class="tag no">å¦</span></td></tr>
      <tr><td>è§£ Ax=b æ•ˆç‡</td><td><span class="tag yes">ä¸¤æ¬¡å›ä»£</span></td><td>ä¹Ÿå¯ä»¥ä½†æ›´ç»•</td></tr>
      <tr><td>æ•°å€¼ç¨³å®šæ€§</td><td><span class="tag yes">æˆç†Ÿç®—æ³•</span></td><td>ç¼ºå°‘å®è·µæ£€éªŒ</td></tr>
      <tr><td>æ ‡å‡†åº“æ”¯æŒ</td><td><span class="tag yes">LAPACKç­‰</span></td><td><span class="tag no">å‡ ä¹æ²¡æœ‰</span></td></tr>
    </table>

    <div class="info-box blue">
      <strong>ğŸ¯ æ€»ç»“</strong>
      LÃ—U æ˜¯é«˜æ–¯æ¶ˆå…ƒçš„<strong>è‡ªç„¶è¯­è¨€</strong>ã€‚å°±åƒæˆ‘ä»¬è¯»ä¹¦ä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹ä¸€æ ·ï¼Œæ¶ˆå…ƒä¹Ÿæ˜¯è¿™ä¸ªé¡ºåºã€‚L è®°å½•ã€Œæ€ä¹ˆæ¶ˆçš„ã€ï¼ŒU è®°å½•ã€Œæ¶ˆå®Œçš„ç»“æœã€ã€‚åè¿‡æ¥åšä¸æ˜¯ä¸è¡Œï¼Œåªæ˜¯é€†ç€äººç±»å’Œè®¡ç®—æœºçš„ä¹ æƒ¯ã€‚
    </div>
  </div>
</div>

<!-- ========== SECTION 3: Interactive LU ========== -->
<div class="section" id="sec3">
  <span class="section-number">ç¬¬ä¸‰ç« </span>
  <h2>äº¤äº’å¼ 2Ã—2 LU åˆ†è§£</h2>
  <p>æ‹–åŠ¨æ»‘å—æ”¹å˜çŸ©é˜µå…ƒç´ ï¼Œå®æ—¶çœ‹åˆ° LU åˆ†è§£ç»“æœï¼š</p>

  <div class="controls">
    <div class="control-group">
      <label>aâ‚â‚:</label>
      <input type="number" id="a11" value="4" onchange="updateLU2()" step="0.5">
    </div>
    <div class="control-group">
      <label>aâ‚â‚‚:</label>
      <input type="number" id="a12" value="3" onchange="updateLU2()" step="0.5">
    </div>
    <div class="control-group">
      <label>aâ‚‚â‚:</label>
      <input type="number" id="a21" value="6" onchange="updateLU2()" step="0.5">
    </div>
    <div class="control-group">
      <label>aâ‚‚â‚‚:</label>
      <input type="number" id="a22" value="3" onchange="updateLU2()" step="0.5">
    </div>
  </div>

  <div class="matrix-display" id="lu2-display">
    <!-- filled by JS -->
  </div>

  <div id="lu2-detail" class="code-block"></div>

  <div class="info-box" id="lu2-info"></div>
</div>

<!-- ========== SECTION 4: Triangle Ã— Vector ========== -->
<div class="section" id="sec4">
  <span class="section-number">ç¬¬å››ç« </span>
  <h2>ä¸‰è§’çŸ©é˜µ Ã— åˆ—å‘é‡ = ä»€ä¹ˆå˜æ¢ï¼Ÿ</h2>

  <div class="tabs">
    <button class="tab active" onclick="switchTab('tri', 0)">ä¸‹ä¸‰è§’ Ã— å‘é‡</button>
    <button class="tab" onclick="switchTab('tri', 1)">ä¸Šä¸‰è§’ Ã— å‘é‡</button>
    <button class="tab" onclick="switchTab('tri', 2)">äº¤äº’å¯è§†åŒ–</button>
  </div>

  <div class="tab-content active" id="tri-tab-0">
    <p>ä¸‹ä¸‰è§’çŸ©é˜µä¹˜ä»¥å‘é‡æ—¶ï¼Œæ¯ä¸ªåˆ†é‡çš„è®¡ç®—æ˜¯<span class="highlight">ã€Œå‘åçœ‹ã€</span>çš„ï¼š</p>
    <div class="code-block">
yâ‚ = lâ‚â‚ Â· xâ‚                    â† åªä¾èµ– xâ‚
yâ‚‚ = lâ‚‚â‚ Â· xâ‚ + lâ‚‚â‚‚ Â· xâ‚‚        â† ä¾èµ– xâ‚, xâ‚‚
yâ‚ƒ = lâ‚ƒâ‚ Â· xâ‚ + lâ‚ƒâ‚‚ Â· xâ‚‚ + lâ‚ƒâ‚ƒ Â· xâ‚ƒ  â† ä¾èµ–å…¨éƒ¨
    </div>

    <div class="info-box">
      <strong>ğŸ” å‡ ä½•è§£è¯»</strong>
      ä¸‹ä¸‰è§’çŸ©é˜µçš„å˜æ¢æ˜¯ä¸€ç§<strong>ã€Œå‰ªåˆ‡ + ç¼©æ”¾ã€</strong>ã€‚å®ƒä¿æŒä¸Šæ–¹çš„åˆ†é‡ç›¸å¯¹ç®€å•ï¼Œé€è¡Œå‘ä¸‹ã€Œç´¯ç§¯ã€å½±å“ã€‚ç¬¬ i è¡Œçš„è¾“å‡ºå—åˆ°å‰ i ä¸ªè¾“å…¥åˆ†é‡çš„å½±å“ã€‚è¿™å°±åƒæ­ç§¯æœ¨â€”â€”ä¸‹é¢çš„ç –å—å½±å“ä¸Šé¢çš„ï¼Œä½†ä¸Šé¢çš„ä¸å½±å“ä¸‹é¢çš„ã€‚
    </div>

    <p>å‡ ä½•ä¸Šçœ‹ 2D æƒ…å†µï¼šä¸‹ä¸‰è§’çŸ©é˜µä¿æŒ <strong>x è½´ä¸å˜</strong>ï¼ˆæˆ–ç¼©æ”¾ï¼‰ï¼Œå¯¹ y è½´æ–¹å‘åšå‰ªåˆ‡ã€‚</p>

    <div class="matrix-display">
      <div>
        <div class="matrix lower">
          <div class="matrix-row"><div class="matrix-cell diag">1</div><div class="matrix-cell zero">0</div></div>
          <div class="matrix-row"><div class="matrix-cell highlight-cell">m</div><div class="matrix-cell diag">1</div></div>
        </div>
        <div class="matrix-label lower-label">L</div>
      </div>
      <div class="op-symbol">Ã—</div>
      <div>
        <div class="matrix plain">
          <div class="matrix-row"><div class="matrix-cell">x</div></div>
          <div class="matrix-row"><div class="matrix-cell">y</div></div>
        </div>
      </div>
      <div class="op-symbol">=</div>
      <div>
        <div class="matrix result">
          <div class="matrix-row"><div class="matrix-cell">x</div></div>
          <div class="matrix-row"><div class="matrix-cell">mx+y</div></div>
        </div>
      </div>
    </div>
    <p style="text-align:center;font-size:0.85rem;color:var(--text-dim)">x åˆ†é‡ä¸å˜ï¼Œy åˆ†é‡è¢«å‰ªåˆ‡ï¼ˆåŠ ä¸Š m å€çš„ xï¼‰</p>
  </div>

  <div class="tab-content" id="tri-tab-1">
    <p>ä¸Šä¸‰è§’çŸ©é˜µä¹˜ä»¥å‘é‡æ—¶ï¼Œæ¯ä¸ªåˆ†é‡çš„è®¡ç®—æ˜¯<span class="highlight-blue">ã€Œå‘å‰çœ‹ã€</span>çš„ï¼š</p>
    <div class="code-block">
yâ‚ = uâ‚â‚Â·xâ‚ + uâ‚â‚‚Â·xâ‚‚ + uâ‚â‚ƒÂ·xâ‚ƒ  â† ä¾èµ–å…¨éƒ¨
yâ‚‚ =            uâ‚‚â‚‚Â·xâ‚‚ + uâ‚‚â‚ƒÂ·xâ‚ƒ  â† ä¾èµ– xâ‚‚, xâ‚ƒ
yâ‚ƒ =                      uâ‚ƒâ‚ƒÂ·xâ‚ƒ  â† åªä¾èµ– xâ‚ƒ
    </div>

    <div class="info-box blue">
      <strong>ğŸ” å‡ ä½•è§£è¯»</strong>
      ä¸Šä¸‰è§’çŸ©é˜µçš„å˜æ¢ä¿æŒåé¢çš„åˆ†é‡ç®€å•ï¼Œå‘å‰ã€Œç´¯ç§¯ã€å½±å“ã€‚åœ¨ 2D ä¸­ï¼Œå®ƒä¿æŒ <strong>y è½´ä¸å˜</strong>ï¼ˆæˆ–ç¼©æ”¾ï¼‰ï¼Œå¯¹ x è½´æ–¹å‘åšå‰ªåˆ‡ã€‚
    </div>

    <div class="matrix-display">
      <div>
        <div class="matrix upper">
          <div class="matrix-row"><div class="matrix-cell diag">1</div><div class="matrix-cell highlight-cell">m</div></div>
          <div class="matrix-row"><div class="matrix-cell zero">0</div><div class="matrix-cell diag">1</div></div>
        </div>
        <div class="matrix-label upper-label">U</div>
      </div>
      <div class="op-symbol">Ã—</div>
      <div>
        <div class="matrix plain">
          <div class="matrix-row"><div class="matrix-cell">x</div></div>
          <div class="matrix-row"><div class="matrix-cell">y</div></div>
        </div>
      </div>
      <div class="op-symbol">=</div>
      <div>
        <div class="matrix result">
          <div class="matrix-row"><div class="matrix-cell">x+my</div></div>
          <div class="matrix-row"><div class="matrix-cell">y</div></div>
        </div>
      </div>
    </div>
    <p style="text-align:center;font-size:0.85rem;color:var(--text-dim)">y åˆ†é‡ä¸å˜ï¼Œx åˆ†é‡è¢«å‰ªåˆ‡ï¼ˆåŠ ä¸Š m å€çš„ yï¼‰</p>
  </div>

  <div class="tab-content" id="tri-tab-2">
    <p>æ‹–åŠ¨æ»‘å—çœ‹çœ‹ä¸‹ä¸‰è§’å’Œä¸Šä¸‰è§’çŸ©é˜µå¦‚ä½•å˜æ¢ä¸€ä¸ªæ­£æ–¹å½¢ï¼š</p>

    <div class="controls">
      <div class="control-group">
        <label>ä¸‹ä¸‰è§’å‰ªåˆ‡ m<sub>L</sub>:</label>
        <input type="range" id="shearL" min="-3" max="3" step="0.1" value="0" oninput="drawTriViz()">
        <span class="slider-val" id="shearL-val">0</span>
      </div>
      <div class="control-group">
        <label>ä¸Šä¸‰è§’å‰ªåˆ‡ m<sub>U</sub>:</label>
        <input type="range" id="shearU" min="-3" max="3" step="0.1" value="0" oninput="drawTriViz()">
        <span class="slider-val" id="shearU-val">0</span>
      </div>
      <button class="btn secondary" onclick="document.getElementById('shearL').value=0;document.getElementById('shearU').value=0;drawTriViz()">é‡ç½®</button>
    </div>

    <div class="viz-container">
      <canvas id="triCanvas" width="700" height="400"></canvas>
    </div>

    <div class="two-col">
      <div class="info-box">
        <strong style="color:var(--lower-color)">ä¸‹ä¸‰è§’ Lï¼ˆæ°´å¹³å‰ªåˆ‡ï¼‰</strong>
        x è½´æ–¹å‘ä¸å˜ï¼Œy è½´æ–¹å‘è¢«å‰ªåˆ‡ã€‚é¢ç§¯ä¸å˜ï¼ˆå¯¹è§’çº¿ä¸º1æ—¶ det=1ï¼‰
      </div>
      <div class="info-box blue">
        <strong style="color:var(--upper-color)">ä¸Šä¸‰è§’ Uï¼ˆç«–ç›´å‰ªåˆ‡ï¼‰</strong>
        y è½´æ–¹å‘ä¸å˜ï¼Œx è½´æ–¹å‘è¢«å‰ªåˆ‡ã€‚é¢ç§¯ä¸å˜ï¼ˆå¯¹è§’çº¿ä¸º1æ—¶ det=1ï¼‰
      </div>
    </div>
  </div>
</div>

<!-- ========== SECTION 5: Row/Col ops and Determinant ========== -->
<div class="section" id="sec5">
  <span class="section-number">ç¬¬äº”ç« </span>
  <h2>è¡Œå˜åˆ—å˜ï¼Œä¸ºä»€ä¹ˆè¡Œåˆ—å¼ä¸å˜ï¼Ÿ</h2>

  <div class="tabs">
    <button class="tab active" onclick="switchTab('det', 0)">ç›´è§‰è§£é‡Š</button>
    <button class="tab" onclick="switchTab('det', 1)">2Ã—2 å¯è§†åŒ–è¯æ˜</button>
    <button class="tab" onclick="switchTab('det', 2)">äº¤äº’æ¼”ç¤º</button>
  </div>

  <div class="tab-content active" id="det-tab-0">
    <p>è¡Œåˆ—å¼çš„å‡ ä½•æ„ä¹‰æ˜¯<span class="highlight">æœ‰å‘é¢ç§¯/ä½“ç§¯çš„ç¼©æ”¾å› å­</span>ã€‚å…³é”®æ€§è´¨ï¼š</p>

    <div class="step-flow">
      <div class="step-card">
        <div class="step-num">1</div>
        <h4>è¡Œæ“ä½œ Ráµ¢ += kÂ·Râ±¼</h4>
        <p>ç›¸å½“äºå¹³è¡Œå››è¾¹å½¢çš„<strong>å‰ªåˆ‡</strong>ï¼Œåº•å’Œé«˜ä¸å˜ â†’ é¢ç§¯ä¸å˜ â†’ det ä¸å˜</p>
      </div>
      <div class="step-card">
        <div class="step-num">2</div>
        <h4>åˆ—æ“ä½œ Cáµ¢ += kÂ·Câ±¼</h4>
        <p>åŒç†ï¼Œåœ¨å¦ä¸€ä¸ªæ–¹å‘åšå‰ªåˆ‡ï¼Œé¢ç§¯ä¹Ÿä¸å˜ â†’ det ä¸å˜</p>
      </div>
      <div class="step-card">
        <div class="step-num">3</div>
        <h4>è½¬ç½® det(A) = det(Aáµ€)</h4>
        <p>è¡Œå˜åˆ— = è½¬ç½®ã€‚A å’Œ Aáµ€ æœ‰ç›¸åŒçš„è¡Œåˆ—å¼ï¼</p>
      </div>
    </div>

    <div class="info-box green">
      <strong>ğŸ¯ æ ¸å¿ƒ</strong>
      ã€Œè¡Œå˜åˆ—å˜ä¸ºä»€ä¹ˆè¡Œåˆ—å¼ä¸å˜ã€çš„æœ€æœ¬è´¨è§£é‡Šï¼š<br>
      <strong>det(A) = det(Aáµ€)</strong>ã€‚è¿™æ„å‘³ç€è¡Œå’Œåˆ—åœ¨è¡Œåˆ—å¼çš„è§†è§’ä¸‹æ˜¯å®Œå…¨å¯¹ç§°çš„ï¼å¯¹è¡Œåšçš„ä»»ä½•æ“ä½œï¼Œéƒ½æœ‰ä¸€ä¸ªç­‰ä»·çš„åˆ—æ“ä½œï¼Œä¸¤è€…å¯¹è¡Œåˆ—å¼çš„å½±å“å®Œå…¨ä¸€æ ·ã€‚
    </div>
  </div>

  <div class="tab-content" id="det-tab-1">
    <p>ç”¨ 2Ã—2 çŸ©é˜µæ¥å¯è§†åŒ–è¯æ˜ï¼çŸ©é˜µçš„ä¸¤ä¸ªåˆ—å‘é‡å¼ æˆä¸€ä¸ªå¹³è¡Œå››è¾¹å½¢ï¼Œå…¶é¢ç§¯ = |det|ã€‚</p>

    <div class="viz-container">
      <canvas id="detCanvas" width="700" height="500"></canvas>
    </div>

    <div class="controls" style="justify-content:center">
      <button class="btn" onclick="detDemo('original')">åŸå§‹çŸ©é˜µ</button>
      <button class="btn secondary" onclick="detDemo('row_op')">è¡Œæ“ä½œ Râ‚‚+=kÂ·Râ‚</button>
      <button class="btn secondary" onclick="detDemo('col_op')">åˆ—æ“ä½œ Câ‚‚+=kÂ·Câ‚</button>
      <button class="btn secondary" onclick="detDemo('transpose')">è½¬ç½® Aáµ€</button>
    </div>

    <div class="controls">
      <div class="control-group">
        <label>æ“ä½œç³»æ•° k:</label>
        <input type="range" id="detK" min="-2" max="2" step="0.1" value="0.5" oninput="detDemo(currentDetMode)">
        <span class="slider-val" id="detK-val">0.5</span>
      </div>
    </div>

    <div id="det-explanation" class="info-box blue" style="margin-top:16px"></div>
  </div>

  <div class="tab-content" id="det-tab-2">
    <p>è¾“å…¥ä¸€ä¸ª 2Ã—2 çŸ©é˜µï¼Œè§‚å¯Ÿå„ç§æ“ä½œå¯¹è¡Œåˆ—å¼çš„å½±å“ï¼š</p>

    <div class="controls">
      <div class="control-group"><label>a:</label><input type="number" id="det-a" value="3" step="0.5" onchange="updateDetInteractive()"></div>
      <div class="control-group"><label>b:</label><input type="number" id="det-b" value="1" step="0.5" onchange="updateDetInteractive()"></div>
      <div class="control-group"><label>c:</label><input type="number" id="det-c" value="2" step="0.5" onchange="updateDetInteractive()"></div>
      <div class="control-group"><label>d:</label><input type="number" id="det-d" value="4" step="0.5" onchange="updateDetInteractive()"></div>
    </div>

    <div id="det-interactive-result"></div>
  </div>
</div>

<!-- ========== SECTION 6: Solving Ax=b ========== -->
<div class="section" id="sec6">
  <span class="section-number">ç¬¬å…­ç« </span>
  <h2>LU åˆ†è§£è§£æ–¹ç¨‹ Ax = b</h2>
  <p>è¿™å°±æ˜¯ LU åˆ†è§£çš„æ€æ‰‹çº§åº”ç”¨â€”â€”å°†ä¸€ä¸ªæ–¹ç¨‹æ‹†æˆä¸¤æ­¥è½»æ¾æ±‚è§£ï¼</p>

  <div class="step-flow">
    <div class="step-card">
      <div class="step-num">1</div>
      <h4>åˆ†è§£ A = LU</h4>
      <p>ä¸€æ¬¡åˆ†è§£ï¼Œåå¤ä½¿ç”¨</p>
    </div>
    <div class="step-card" style="border-color:var(--lower-color)">
      <div class="step-num" style="background:var(--lower-color)">2</div>
      <h4>å‰ä»£ Ly = b</h4>
      <p>ä»ä¸Šå¾€ä¸‹é€ä¸ªæ±‚ y<br>ï¼ˆå› ä¸º L æ˜¯ä¸‹ä¸‰è§’ï¼Œè¶…ç®€å•ï¼‰</p>
    </div>
    <div class="step-card" style="border-color:var(--upper-color)">
      <div class="step-num" style="background:var(--upper-color)">3</div>
      <h4>å›ä»£ Ux = y</h4>
      <p>ä»ä¸‹å¾€ä¸Šé€ä¸ªæ±‚ x<br>ï¼ˆå› ä¸º U æ˜¯ä¸Šä¸‰è§’ï¼Œä¹Ÿè¶…ç®€å•ï¼‰</p>
    </div>
  </div>

  <div class="info-box">
    <strong>ğŸš€ äº¤äº’ç¤ºä¾‹</strong>
    ç‚¹å‡»æŒ‰é’®é€æ­¥è§‚å¯Ÿå¦‚ä½•è§£æ–¹ç¨‹ï¼š
  </div>

  <div class="controls">
    <button class="btn" onclick="solveDemo(0)">é¢˜ç›®</button>
    <button class="btn secondary" onclick="solveDemo(1)">æ­¥éª¤1: LUåˆ†è§£</button>
    <button class="btn secondary" onclick="solveDemo(2)">æ­¥éª¤2: å‰ä»£æ±‚y</button>
    <button class="btn secondary" onclick="solveDemo(3)">æ­¥éª¤3: å›ä»£æ±‚x</button>
  </div>

  <div id="solve-demo" class="code-block" style="min-height:200px;white-space:pre-wrap"></div>
</div>

<!-- ========== SECTION 7: Summary ========== -->
<div class="section" id="sec7">
  <span class="section-number">æ€»ç»“</span>
  <h2>LU åˆ†è§£çš„å…¨æ™¯å›¾</h2>

  <div class="equation" style="font-size:1.5rem;padding:30px">
    <span class="A">A</span> = <span class="L">L</span> Â· <span class="U">U</span>
    <span style="color:var(--text-dim);font-size:0.8rem;display:block;margin-top:8px">ï¼ˆæ¶ˆå…ƒè¿‡ç¨‹çš„å¿ å®è®°å½•ï¼‰</span>
  </div>

  <div class="two-col">
    <div class="info-box">
      <strong>L â€” ä¸‹ä¸‰è§’çŸ©é˜µ</strong>
      è®°å½•äº†ã€Œæ€ä¹ˆæ¶ˆçš„ã€<br>
      æ¯ä¸ªå…ƒç´ æ˜¯æ¶ˆå…ƒä¹˜æ•°<br>
      å‡ ä½•ä¸Šæ˜¯å‘ä¸‹çš„å‰ªåˆ‡<br>
      å‰ä»£æ³•å¯å¿«é€Ÿæ±‚è§£ Ly=b
    </div>
    <div class="info-box blue">
      <strong>U â€” ä¸Šä¸‰è§’çŸ©é˜µ</strong>
      è®°å½•äº†ã€Œæ¶ˆå®Œçš„ç»“æœã€<br>
      å°±æ˜¯é«˜æ–¯æ¶ˆå…ƒçš„æœ€ç»ˆå½¢æ€<br>
      å‡ ä½•ä¸Šæ˜¯å‘å³çš„å‰ªåˆ‡+ç¼©æ”¾<br>
      å›ä»£æ³•å¯å¿«é€Ÿæ±‚è§£ Ux=y
    </div>
  </div>

  <div class="info-box green">
    <strong>ä¸ºä»€ä¹ˆ LÃ—U è€Œä¸æ˜¯ UÃ—Lï¼Ÿ</strong>
    å› ä¸ºé«˜æ–¯æ¶ˆå…ƒä»ä¸Šåˆ°ä¸‹æ¶ˆå»ï¼Œè¡Œæ“ä½œå¯¹åº”å·¦ä¹˜ä¸‹ä¸‰è§’åˆç­‰çŸ©é˜µã€‚æ¶ˆå…ƒå®Œå¾—åˆ° Uï¼Œè®°å½•æ¶ˆå…ƒå¾—åˆ° Lã€‚ä¸€åˆ‡éƒ½æ˜¯è‡ªç„¶è€Œç„¶ã€‚è¡Œåˆ—å¼ä¸å˜æ˜¯å› ä¸ºå‰ªåˆ‡ä¸æ”¹å˜é¢ç§¯/ä½“ç§¯ï¼Œè€Œ det(A)=det(Aáµ€) ä¿è¯è¡Œåˆ—å¯¹ç§°ã€‚
  </div>
</div>

</div><!-- end container -->

<script>
// === Tab switching ===
function switchTab(group, idx) {
  const tabs = document.querySelectorAll(`#${getSection(group)} .tab`);
  const contents = document.querySelectorAll(`[id^="${group}-tab-"]`);
  tabs.forEach((t,i) => t.classList.toggle('active', i===idx));
  contents.forEach((c,i) => c.classList.toggle('active', i===idx));

  if (group === 'tri' && idx === 2) setTimeout(drawTriViz, 50);
  if (group === 'det' && idx === 1) setTimeout(() => detDemo('original'), 50);
  if (group === 'det' && idx === 2) setTimeout(updateDetInteractive, 50);
}

function getSection(group) {
  const map = { gauss: 'sec2', tri: 'sec4', det: 'sec5' };
  return map[group];
}

// === Gauss elimination demo ===
function gaussStep(step) {
  for (let i = 0; i <= 2; i++) {
    document.getElementById('gauss-s'+i).style.display = (i <= step) ? 'block' : 'none';
    document.getElementById('gauss-s'+i).classList.toggle('active-step', i === step);
  }
}

// === 2x2 LU decomposition ===
function updateLU2() {
  const a = +document.getElementById('a11').value;
  const b = +document.getElementById('a12').value;
  const c = +document.getElementById('a21').value;
  const d = +document.getElementById('a22').value;

  const disp = document.getElementById('lu2-display');
  const detail = document.getElementById('lu2-detail');
  const info = document.getElementById('lu2-info');

  if (a === 0) {
    disp.innerHTML = '';
    detail.innerHTML = 'aâ‚â‚ = 0ï¼Œéœ€è¦è¡Œäº¤æ¢ï¼ˆéƒ¨åˆ†é€‰ä¸»å…ƒï¼‰ï¼ŒåŸºæœ¬LUåˆ†è§£ä¸é€‚ç”¨ã€‚';
    info.innerHTML = '<strong>âš ï¸ ä¸»å…ƒä¸ºé›¶</strong>éœ€è¦ç½®æ¢çŸ©é˜µ Pï¼Œåš PA = LU åˆ†è§£ï¼ˆPLUåˆ†è§£ï¼‰';
    return;
  }

  const l21 = c / a;
  const u11 = a, u12 = b;
  const u22 = d - l21 * b;

  const r = (v) => Math.round(v * 1000) / 1000;

  disp.innerHTML = `
    <div>
      <div class="matrix result">
        <div class="matrix-row"><div class="matrix-cell">${r(a)}</div><div class="matrix-cell">${r(b)}</div></div>
        <div class="matrix-row"><div class="matrix-cell">${r(c)}</div><div class="matrix-cell">${r(d)}</div></div>
      </div>
      <div class="matrix-label result-label">A</div>
    </div>
    <div class="op-symbol">=</div>
    <div>
      <div class="matrix lower">
        <div class="matrix-row"><div class="matrix-cell diag">1</div><div class="matrix-cell zero">0</div></div>
        <div class="matrix-row"><div class="matrix-cell highlight-cell">${r(l21)}</div><div class="matrix-cell diag">1</div></div>
      </div>
      <div class="matrix-label lower-label">L</div>
    </div>
    <div class="op-symbol">Ã—</div>
    <div>
      <div class="matrix upper">
        <div class="matrix-row"><div class="matrix-cell highlight-cell">${r(u11)}</div><div class="matrix-cell highlight-cell">${r(u12)}</div></div>
        <div class="matrix-row"><div class="matrix-cell zero">0</div><div class="matrix-cell highlight-cell">${r(u22)}</div></div>
      </div>
      <div class="matrix-label upper-label">U</div>
    </div>
  `;

  detail.innerHTML = `è®¡ç®—è¿‡ç¨‹ï¼š
  lâ‚‚â‚ = aâ‚‚â‚/aâ‚â‚ = ${r(c)}/${r(a)} = ${r(l21)}
  uâ‚â‚ = aâ‚â‚ = ${r(u11)}
  uâ‚â‚‚ = aâ‚â‚‚ = ${r(u12)}
  uâ‚‚â‚‚ = aâ‚‚â‚‚ - lâ‚‚â‚Â·aâ‚â‚‚ = ${r(d)} - ${r(l21)}Ã—${r(b)} = ${r(u22)}

  éªŒè¯ï¼šLÃ—U = [1Â·${r(u11)}+0Â·0, 1Â·${r(u12)}+0Â·${r(u22)}; ${r(l21)}Â·${r(u11)}+1Â·0, ${r(l21)}Â·${r(u12)}+1Â·${r(u22)}]
            = [${r(u11)}, ${r(u12)}; ${r(l21*u11)}, ${r(l21*u12+u22)}] âœ“

  det(A) = ad - bc = ${r(a)}Ã—${r(d)} - ${r(b)}Ã—${r(c)} = ${r(a*d - b*c)}
  det(L)Ã—det(U) = 1Ã—(${r(u11)}Ã—${r(u22)}) = ${r(u11*u22)}  âœ“`;

  const det = a*d - b*c;
  info.innerHTML = `<strong>ğŸ“Š è¡Œåˆ—å¼</strong> det(A) = ${r(det)}${det===0 ? ' â€” çŸ©é˜µå¥‡å¼‚ï¼Uçš„å¯¹è§’çº¿å‡ºç°äº†0' : ' â€” det(L)Â·det(U) = 1 Ã— '+r(u11*u22)+' = '+r(u11*u22)+' âœ“'}`;
}

updateLU2();

// === Triangle Ã— Vector Visualization ===
function drawTriViz() {
  const canvas = document.getElementById('triCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  const mL = +document.getElementById('shearL').value;
  const mU = +document.getElementById('shearU').value;
  document.getElementById('shearL-val').textContent = mL.toFixed(1);
  document.getElementById('shearU-val').textContent = mU.toFixed(1);

  ctx.clearRect(0, 0, W, H);
  ctx.fillStyle = '#f0f2f7';
  ctx.fillRect(0, 0, W, H);

  const cx = W/2, cy = H/2;
  const scale = 55;

  // Grid
  ctx.strokeStyle = ''rgba(0,0,0,0.06)'';
  ctx.lineWidth = 1;
  for (let x = -10; x <= 10; x++) {
    ctx.beginPath(); ctx.moveTo(cx + x*scale, 0); ctx.lineTo(cx + x*scale, H); ctx.stroke();
  }
  for (let y = -10; y <= 10; y++) {
    ctx.beginPath(); ctx.moveTo(0, cy + y*scale); ctx.lineTo(W, cy + y*scale); ctx.stroke();
  }

  // Axes
  ctx.strokeStyle = 'rgba(0,0,0,0.15)';
  ctx.lineWidth = 2;
  ctx.beginPath(); ctx.moveTo(0, cy); ctx.lineTo(W, cy); ctx.stroke();
  ctx.beginPath(); ctx.moveTo(cx, 0); ctx.lineTo(cx, H); ctx.stroke();

  // Unit square corners
  const sq = [[0,0],[1,0],[1,1],[0,1]];

  function toScreen(x, y) {
    return [cx + x * scale, cy - y * scale];
  }

  function drawPoly(points, color, fill, label, offsetX, offsetY) {
    ctx.beginPath();
    const [sx, sy] = toScreen(points[0][0], points[0][1]);
    ctx.moveTo(sx, sy);
    for (let i = 1; i < points.length; i++) {
      const [px, py] = toScreen(points[i][0], points[i][1]);
      ctx.lineTo(px, py);
    }
    ctx.closePath();
    if (fill) {
      ctx.fillStyle = fill;
      ctx.fill();
    }
    ctx.strokeStyle = color;
    ctx.lineWidth = 2.5;
    ctx.stroke();

    if (label) {
      // center of polygon
      let mx = 0, my = 0;
      points.forEach(p => { mx += p[0]; my += p[1]; });
      mx /= points.length; my /= points.length;
      const [lx, ly] = toScreen(mx, my);
      ctx.fillStyle = color;
      ctx.font = 'bold 14px "JetBrains Mono"';
      ctx.textAlign = 'center';
      ctx.fillText(label, lx + (offsetX||0), ly + (offsetY||0));
    }
  }

  // Original square
  drawPoly(sq, 'rgba(0,0,0,0.25)', ''rgba(0,0,0,0.06)'', 'åŸå§‹', 0, 0);

  // Lower triangular: [[1,0],[mL,1]] â†’ (x,y) â†’ (x, mL*x+y)
  const sqL = sq.map(([x,y]) => [x, mL*x + y]);
  drawPoly(sqL, '#d97706', 'rgba(217,119,6,0.15)', 'Lå˜æ¢', 0, -14);

  // Upper triangular: [[1,mU],[0,1]] â†’ (x,y) â†’ (x+mU*y, y)
  const sqU = sq.map(([x,y]) => [x + mU*y, y]);
  drawPoly(sqU, '#2563eb', 'rgba(37,99,235,0.15)', 'Uå˜æ¢', 0, 14);

  // Labels
  ctx.fillStyle = '#d97706';
  ctx.font = '13px "JetBrains Mono"';
  ctx.textAlign = 'left';
  ctx.fillText(`L = [1,0; ${mL.toFixed(1)},1]`, 12, 24);

  ctx.fillStyle = '#2563eb';
  ctx.fillText(`U = [1,${mU.toFixed(1)}; 0,1]`, 12, 44);

  ctx.fillStyle = '#64748b';
  ctx.font = '12px "Noto Sans SC"';
  ctx.fillText('é¢ç§¯å§‹ç»ˆ = 1ï¼ˆdet = 1ï¼‰', 12, 66);

  // Dots at corners
  function drawDot(x, y, color) {
    const [sx, sy] = toScreen(x, y);
    ctx.beginPath();
    ctx.arc(sx, sy, 4, 0, Math.PI*2);
    ctx.fillStyle = color;
    ctx.fill();
  }

  sqL.forEach(([x,y]) => drawDot(x, y, '#d97706'));
  sqU.forEach(([x,y]) => drawDot(x, y, '#2563eb'));
}

setTimeout(drawTriViz, 100);

// === Determinant visualization ===
let currentDetMode = 'original';

function detDemo(mode) {
  currentDetMode = mode;
  const canvas = document.getElementById('detCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  const k = +document.getElementById('detK').value;
  document.getElementById('detK-val').textContent = k.toFixed(1);

  ctx.clearRect(0, 0, W, H);
  ctx.fillStyle = '#f0f2f7';
  ctx.fillRect(0, 0, W, H);

  const cx = W/2, cy = H/2;
  const scale = 60;

  // Grid
  ctx.strokeStyle = 'rgba(0,0,0,0.04)';
  ctx.lineWidth = 1;
  for (let i = -10; i <= 10; i++) {
    ctx.beginPath(); ctx.moveTo(cx + i*scale, 0); ctx.lineTo(cx + i*scale, H); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(0, cy + i*scale); ctx.lineTo(W, cy + i*scale); ctx.stroke();
  }

  // Axes
  ctx.strokeStyle = 'rgba(0,0,0,0.12)';
  ctx.lineWidth = 1.5;
  ctx.beginPath(); ctx.moveTo(0, cy); ctx.lineTo(W, cy); ctx.stroke();
  ctx.beginPath(); ctx.moveTo(cx, 0); ctx.lineTo(cx, H); ctx.stroke();

  // Original matrix A = [[2,1],[1,3]] â†’ det = 5
  let col1 = [2, 1]; // first column
  let col2 = [1, 3]; // second column
  let label = '';
  let detVal = 0;

  if (mode === 'original') {
    label = 'A = [2,1; 1,3]  det=5';
  } else if (mode === 'row_op') {
    // Row op: R2 += k*R1 â†’ [2,1; 1+2k, 3+k]
    col1 = [2, 1 + 2*k];
    col2 = [1, 3 + k];
    label = `Râ‚‚ += ${k.toFixed(1)}Â·Râ‚ â†’ det=?`;
  } else if (mode === 'col_op') {
    // Col op: C2 += k*C1 â†’ [[2, 1+2k],[1, 3+k]]
    col1 = [2, 1];
    col2 = [1 + 2*k, 3 + k];
    label = `Câ‚‚ += ${k.toFixed(1)}Â·Câ‚ â†’ det=?`;
  } else if (mode === 'transpose') {
    col1 = [2, 1]; col2 = [1, 3]; // Transpose of [[2,1],[1,3]] = [[2,1],[1,3]] â€” symmetric!
    // Let's use non-symmetric: [[2,1],[0,3]]
    col1 = [2, 0]; col2 = [1, 3]; // Orig
    // After transpose: [[2,0],[1,3]] â†’ cols: [2,1], [0,3]
    label = 'Aáµ€ â†’ det=?';
  }

  detVal = col1[0]*col2[1] - col1[1]*col2[0];

  function toScreen(x, y) {
    return [cx + x * scale, cy - y * scale];
  }

  // Draw original parallelogram (faded)
  if (mode !== 'original') {
    let oc1 = (mode === 'transpose') ? [2, 0] : [2, 1];
    let oc2 = (mode === 'transpose') ? [1, 3] : [1, 3];

    ctx.beginPath();
    let [sx, sy] = toScreen(0, 0);
    ctx.moveTo(sx, sy);
    [sx, sy] = toScreen(oc1[0], oc1[1]);
    ctx.lineTo(sx, sy);
    [sx, sy] = toScreen(oc1[0]+oc2[0], oc1[1]+oc2[1]);
    ctx.lineTo(sx, sy);
    [sx, sy] = toScreen(oc2[0], oc2[1]);
    ctx.lineTo(sx, sy);
    ctx.closePath();
    ctx.fillStyle = 'rgba(0,0,0,0.04)';
    ctx.fill();
    ctx.strokeStyle = 'rgba(0,0,0,0.12)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([5,5]);
    ctx.stroke();
    ctx.setLineDash([]);
  }

  // Draw current parallelogram
  const sum = [col1[0]+col2[0], col1[1]+col2[1]];

  ctx.beginPath();
  let [sx, sy] = toScreen(0, 0);
  ctx.moveTo(sx, sy);
  [sx, sy] = toScreen(col1[0], col1[1]);
  ctx.lineTo(sx, sy);
  [sx, sy] = toScreen(sum[0], sum[1]);
  ctx.lineTo(sx, sy);
  [sx, sy] = toScreen(col2[0], col2[1]);
  ctx.lineTo(sx, sy);
  ctx.closePath();
  ctx.fillStyle = 'rgba(5,150,105,0.12)';
  ctx.fill();
  ctx.strokeStyle = '#059669';
  ctx.lineWidth = 2.5;
  ctx.stroke();

  // Draw column vectors
  function drawArrow(x, y, color, lbl) {
    const [ex, ey] = toScreen(x, y);
    const [ox, oy] = toScreen(0, 0);

    ctx.beginPath();
    ctx.moveTo(ox, oy);
    ctx.lineTo(ex, ey);
    ctx.strokeStyle = color;
    ctx.lineWidth = 3;
    ctx.stroke();

    // Arrowhead
    const angle = Math.atan2(oy - ey, ex - ox);
    ctx.beginPath();
    ctx.moveTo(ex, ey);
    ctx.lineTo(ex - 12*Math.cos(angle - 0.3), ey + 12*Math.sin(angle - 0.3));
    ctx.lineTo(ex - 12*Math.cos(angle + 0.3), ey + 12*Math.sin(angle + 0.3));
    ctx.closePath();
    ctx.fillStyle = color;
    ctx.fill();

    // Label
    ctx.fillStyle = color;
    ctx.font = 'bold 13px "JetBrains Mono"';
    ctx.textAlign = 'center';
    ctx.fillText(lbl, ex + 16 * Math.sign(x || 1), ey - 12);
  }

  drawArrow(col1[0], col1[1], '#d97706', `câ‚(${col1[0].toFixed(1)},${col1[1].toFixed(1)})`);
  drawArrow(col2[0], col2[1], '#2563eb', `câ‚‚(${col2[0].toFixed(1)},${col2[1].toFixed(1)})`);

  // det label
  ctx.fillStyle = '#059669';
  ctx.font = 'bold 16px "JetBrains Mono"';
  ctx.textAlign = 'left';
  ctx.fillText(`det = ${detVal.toFixed(2)}`, 16, 30);

  ctx.fillStyle = '#1e293b';
  ctx.font = '13px "JetBrains Mono"';
  ctx.fillText(label, 16, 52);

  if (mode === 'original') {
    ctx.fillStyle = '#64748b';
    ctx.font = '12px "Noto Sans SC"';
    ctx.fillText('é¢ç§¯ = |det| = å¹³è¡Œå››è¾¹å½¢é¢ç§¯', 16, 74);
  }

  // Explanation
  const exp = document.getElementById('det-explanation');
  if (mode === 'original') {
    exp.innerHTML = '<strong>ğŸ“ åŸå§‹çŸ©é˜µ</strong>ä¸¤ä¸ªåˆ—å‘é‡ câ‚=(2,1) å’Œ câ‚‚=(1,3) å›´æˆçš„å¹³è¡Œå››è¾¹å½¢é¢ç§¯ = |det(A)| = 5ã€‚';
  } else if (mode === 'row_op') {
    exp.innerHTML = `<strong>ğŸ“ è¡Œæ“ä½œ Râ‚‚ += ${k.toFixed(1)}Â·Râ‚</strong> è¡Œæ“ä½œç›¸å½“äºå¯¹å¹³è¡Œå››è¾¹å½¢åš<span class="highlight">å‰ªåˆ‡</span>â€”â€”å½¢çŠ¶å˜äº†ä½†é¢ç§¯ä¸å˜ï¼det å§‹ç»ˆ = ${detVal.toFixed(2)}ã€‚å‰ªåˆ‡å°±åƒæ¨ä¸€æ‘çº¸ï¼Œåº•é¢ç§¯ä¸ä¼šæ”¹å˜ã€‚`;
  } else if (mode === 'col_op') {
    exp.innerHTML = `<strong>ğŸ“ åˆ—æ“ä½œ Câ‚‚ += ${k.toFixed(1)}Â·Câ‚</strong> åˆ—æ“ä½œä¹Ÿæ˜¯å‰ªåˆ‡â€”â€”åœ¨å¦ä¸€ä¸ªæ–¹å‘æ¨ã€‚é¢ç§¯åŒæ ·ä¸å˜ï¼det = ${detVal.toFixed(2)}ã€‚è¿™è¯´æ˜è¡Œæ“ä½œå’Œåˆ—æ“ä½œå¯¹ det çš„å½±å“å®Œå…¨ä¸€è‡´ã€‚`;
  } else if (mode === 'transpose') {
    exp.innerHTML = `<strong>ğŸ“ è½¬ç½®</strong> è½¬ç½®äº¤æ¢è¡Œå’Œåˆ—ã€‚å¯¹äº A=[[2,1],[0,3]]ï¼ŒAáµ€=[[2,0],[1,3]]ã€‚åˆ—å‘é‡æ¢äº†ï¼Œä½†å¹³è¡Œå››è¾¹å½¢é¢ç§¯ä¸å˜ï¼det(A) = det(Aáµ€) = ${detVal.toFixed(2)}ã€‚è¿™å°±æ˜¯ã€Œè¡Œå˜åˆ—å˜ det ä¸å˜ã€çš„æ ¹æœ¬åŸå› ã€‚`;
  }
}

// === Interactive det demo ===
function updateDetInteractive() {
  const a = +document.getElementById('det-a').value;
  const b = +document.getElementById('det-b').value;
  const c = +document.getElementById('det-c').value;
  const d = +document.getElementById('det-d').value;

  const det = a*d - b*c;
  const r = v => Math.round(v*1000)/1000;

  const container = document.getElementById('det-interactive-result');
  container.innerHTML = `
    <div class="equation" style="font-size:1rem">
      A = [${a}, ${b}; ${c}, ${d}] â†’ det(A) = ${a}Ã—${d} - ${b}Ã—${c} = <span style="color:var(--accent3);font-size:1.3rem">${r(det)}</span>
    </div>

    <div class="two-col" style="margin-top:16px">
      <div class="gauss-step">
        <h4>è¡Œæ“ä½œ: Râ‚‚ += 2Â·Râ‚</h4>
        <p style="font-family:'JetBrains Mono';font-size:0.85rem;margin:8px 0">
          A' = [${a}, ${b}; ${r(c+2*a)}, ${r(d+2*b)}]<br>
          det(A') = ${a}Ã—${r(d+2*b)} - ${b}Ã—${r(c+2*a)} = <span style="color:var(--accent3);font-weight:700">${r(a*(d+2*b) - b*(c+2*a))}</span>
          ${Math.abs(det - (a*(d+2*b) - b*(c+2*a))) < 0.001 ? ' âœ… ä¸å˜ï¼' : ''}
        </p>
      </div>
      <div class="gauss-step">
        <h4>åˆ—æ“ä½œ: Câ‚‚ += 2Â·Câ‚</h4>
        <p style="font-family:'JetBrains Mono';font-size:0.85rem;margin:8px 0">
          A' = [${a}, ${r(b+2*a)}; ${c}, ${r(d+2*c)}]<br>
          det(A') = ${a}Ã—${r(d+2*c)} - ${r(b+2*a)}Ã—${c} = <span style="color:var(--accent3);font-weight:700">${r(a*(d+2*c) - (b+2*a)*c)}</span>
          ${Math.abs(det - (a*(d+2*c) - (b+2*a)*c)) < 0.001 ? ' âœ… ä¸å˜ï¼' : ''}
        </p>
      </div>
    </div>

    <div class="gauss-step" style="margin-top:12px">
      <h4>è½¬ç½®: Aáµ€</h4>
      <p style="font-family:'JetBrains Mono';font-size:0.85rem;margin:8px 0">
        Aáµ€ = [${a}, ${c}; ${b}, ${d}]<br>
        det(Aáµ€) = ${a}Ã—${d} - ${c}Ã—${b} = <span style="color:var(--accent3);font-weight:700">${r(a*d - c*b)}</span>
        ${Math.abs(det - (a*d - c*b)) < 0.001 ? ' âœ… å®Œå…¨ç›¸åŒï¼' : ''}
      </p>
    </div>

    <div class="info-box green" style="margin-top:16px">
      <strong>ç»“è®º</strong>
      æ— è®ºæ€ä¹ˆåšè¡Œæ“ä½œ Ráµ¢ += kÂ·Râ±¼ã€åˆ—æ“ä½œ Cáµ¢ += kÂ·Câ±¼ è¿˜æ˜¯è½¬ç½®ï¼Œdet éƒ½æ˜¯ <strong>${r(det)}</strong>ã€‚
      è¡Œå’Œåˆ—åœ¨è¡Œåˆ—å¼é¢å‰æ˜¯å®Œå…¨å¹³ç­‰çš„ï¼
    </div>
  `;
}

// === Solve Ax=b demo ===
function solveDemo(step) {
  const el = document.getElementById('solve-demo');
  const steps = [
    `<span style="color:var(--text);font-weight:700">æ±‚è§£ Ax = b</span>

A = [2  1  1]    b = [4]
    [4  3  3]        [10]
    [8  7  9]        [24]

ç›®æ ‡ï¼šæ‰¾åˆ°å‘é‡ x ä½¿å¾— Ax = b`,

    `<span style="color:var(--text);font-weight:700">æ­¥éª¤1ï¼šA = LU åˆ†è§£</span>

L = [1  0  0]    U = [2  1  1]
    [<span style="color:#d97706">2</span>  1  0]        [0  1  1]
    [<span style="color:#d97706">4</span>  <span style="color:#d97706">3</span>  1]        [0  0  2]

ç°åœ¨ Ax = b å˜æˆ LUx = b
ä»¤ y = Uxï¼Œåˆ™ Ly = b`,

    `<span style="color:var(--text);font-weight:700">æ­¥éª¤2ï¼šå‰ä»£æ³•æ±‚ yï¼ˆLy = bï¼‰</span>

[1  0  0] [yâ‚]   [4]
[<span style="color:#d97706">2</span>  1  0] [yâ‚‚] = [10]
[<span style="color:#d97706">4</span>  <span style="color:#d97706">3</span>  1] [yâ‚ƒ]   [24]

<span style="color:#059669">ä»ä¸Šå¾€ä¸‹é€ä¸ªæ±‚ï¼š</span>
yâ‚ = 4                          â†’ yâ‚ = <span style="color:#059669;font-weight:700">4</span>
2Â·yâ‚ + yâ‚‚ = 10 â†’ yâ‚‚ = 10-8 = 2  â†’ yâ‚‚ = <span style="color:#059669;font-weight:700">2</span>
4Â·yâ‚ + 3Â·yâ‚‚ + yâ‚ƒ = 24
  â†’ yâ‚ƒ = 24-16-6 = 2             â†’ yâ‚ƒ = <span style="color:#059669;font-weight:700">2</span>

y = [4, 2, 2]áµ€`,

    `<span style="color:var(--text);font-weight:700">æ­¥éª¤3ï¼šå›ä»£æ³•æ±‚ xï¼ˆUx = yï¼‰</span>

[<span style="color:#2563eb">2</span>  <span style="color:#2563eb">1</span>  <span style="color:#2563eb">1</span>] [xâ‚]   [4]
[0  <span style="color:#2563eb">1</span>  <span style="color:#2563eb">1</span>] [xâ‚‚] = [2]
[0  0  <span style="color:#2563eb">2</span>] [xâ‚ƒ]   [2]

<span style="color:#059669">ä»ä¸‹å¾€ä¸Šé€ä¸ªæ±‚ï¼š</span>
2Â·xâ‚ƒ = 2               â†’ xâ‚ƒ = <span style="color:#059669;font-weight:700">1</span>
xâ‚‚ + xâ‚ƒ = 2 â†’ xâ‚‚ = 1  â†’ xâ‚‚ = <span style="color:#059669;font-weight:700">1</span>
2Â·xâ‚ + xâ‚‚ + xâ‚ƒ = 4
  â†’ xâ‚ = (4-1-1)/2 = 1 â†’ xâ‚ = <span style="color:#059669;font-weight:700">1</span>

<span style="color:#d97706;font-weight:700">âœ¨ è§£ï¼šx = [1, 1, 1]áµ€</span>

éªŒè¯ï¼šAÂ·x = [2+1+1, 4+3+3, 8+7+9]áµ€ = [4, 10, 24]áµ€ = b âœ…`
  ];

  el.innerHTML = steps[step];
}

solveDemo(0);

// Initialize first det demo
setTimeout(() => detDemo('original'), 200);
</script>

</body>
</html>
